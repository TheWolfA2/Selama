@model Selama.Areas.Forums.ViewModels.ThreadViewModel

<ul class="pager pager-right">
    @if (Model.ViewPageNum != 1)
    {
        <li class="btn pager-btn">
            @Html.ActionLink("Prev", "Thread", new { area = "Forums", id = Model.ID, page = Model.ViewPageNum - 1 }, null)
        </li>
    }
    @if (Model.ViewPageNum + Model.PagerStartingIndex > 0 && Model.ViewPageNum + Model.PagerStartingIndex != 1)
    {
        <li class="btn pager-btn">
            @Html.ActionLink("1", "Thread", new { area = "Forums", id = Model.ID, page = 1 }, null)
        </li>
        if (Model.ViewPageNum + Model.PagerStartingIndex - 1 > 1)
        {
            <li>...</li>
        }
    }

    @for (int i = Model.PagerStartingIndex; i < Model.PagerStartingIndex + 3; i++)
    {
        int curPage = Model.ViewPageNum + i;
        if (curPage < 1 || curPage > Model.NumPages)
        {
            continue;
        }
        <li class="btn pager-btn @(i == 0 ? "selected" : "")">
            @Html.ActionLink(curPage.ToString(), "Thread", new { area = "Forums", id = Model.ID, page = curPage }, null)
        </li>
    }

    @if (Model.ViewPageNum + (Model.PagerStartingIndex + 2) < Model.NumPages && Model.ViewPageNum + (Model.PagerStartingIndex + 2) != Model.NumPages)
    {
        if (Model.NumPages - (Model.ViewPageNum + Model.PagerStartingIndex + 2) > 1)
        {
            <li>...</li>
        }
        <li class="btn pager-btn">
            @Html.ActionLink(Model.NumPages.ToString(), "Thread", new { area = "Forums", id = Model.ID, page = Model.NumPages }, null)
        </li>
    }
    @if (Model.ViewPageNum != Model.NumPages)
    {
        <li class="btn pager-btn">
            @Html.ActionLink("Next", "Thread", new { area = "Forums", id = Model.ID, page = Model.ViewPageNum + 1 }, null)
        </li>
    }
</ul>